<!DOCTYPE html>
<html lang="en">
<head><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2101333740304290"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaal Bhairav Temple - Divine Offerings</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root { /* CSS Variables from new welcome screen */
            --charcoal-black: #1a1a1a;
            --deep-black: #0d0d0d;
            --metallic-silver: #c0c0c0;
            --electric-blue: #00ffff;
            --deep-violet: #8A2BE2; 
            --glow-blue: #43d9ff;
            --glow-violet: #c879ff;
        }

        html {
            scroll-behavior: smooth; 
        }
        body { /* Default body styles for the main site */
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
            background-color: #f9fafb; 
            color: #1f2937; 
            margin: 0; /* Ensure no default margin */
        }
        .dark body {
            background-color: #111827; 
            color: #d1d5db; 
        }

        /* Styles for the new Welcome Screen (Splash Screen) */
        #welcomeScreenContainer { 
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: var(--deep-black);
            overflow: hidden; 
            position: fixed; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000; 
            transition: opacity 0.7s ease-out, visibility 0.7s ease-out;
        }
        #welcomeScreenContainer.hidden {
            opacity: 0;
            pointer-events: none;
            visibility: hidden;
        }
        
        #welcomeScreenContainer::before { 
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 20% 30%, rgba(50, 50, 60, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(60, 50, 70, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(40, 40, 50, 0.1) 0%, transparent 30%);
            background-size: 300% 300%; 
            animation: smokyBackground 45s linear infinite alternate;
            z-index: 0;
            opacity: 0.7;
        }

        @keyframes smokyBackground {
            0% { background-position: 0% 0%; }
            25% { background-position: 25% 50%; }
            50% { background-position: 50% 100%; }
            75% { background-position: 75% 50%; }
            100% { background-position: 100% 0%; }
        }

        .welcome-container-content { 
            position: relative; 
            z-index: 1;
            text-align: center;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .silhouette-container {
            position: relative;
            width: 200px; 
            height: 250px; 
            margin-bottom: 2rem;
        }

        .kaal-bhairav-silhouette {
            width: 100%;
            height: 100%;
            fill: var(--metallic-silver);
            opacity: 0.6; 
            filter: drop-shadow(0 0 10px rgba(192, 192, 192, 0.3)); 
        }
        
        .neon-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; 
        }

        .neon-lines .line {
            stroke-width: 2.5px;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            animation: drawLine 6s ease-in-out infinite alternate, 
                       pulseGlow 3s ease-in-out infinite alternate;
        }

        .neon-lines .line-blue {
            stroke: var(--electric-blue);
            filter: drop-shadow(0 0 3px var(--glow-blue)) drop-shadow(0 0 6px var(--glow-blue)) drop-shadow(0 0 10px var(--glow-blue));
            stroke-dasharray: 500; 
            stroke-dashoffset: 500;
        }

        .neon-lines .line-violet {
            stroke: var(--deep-violet);
            filter: drop-shadow(0 0 3px var(--glow-violet)) drop-shadow(0 0 6px var(--glow-violet)) drop-shadow(0 0 10px var(--glow-violet));
            stroke-dasharray: 500; 
            stroke-dashoffset: 500;
            animation-delay: -3s; 
        }
        
        @keyframes drawLine {
            0% { stroke-dashoffset: 500; opacity: 0.3; }
            50% { stroke-dashoffset: 0; opacity: 1; }
            100% { stroke-dashoffset: -500; opacity: 0.3; }
        }

        @keyframes pulseGlow {
            0%, 100% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
        }

        .welcome-text-splash { 
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 6vw, 3.5rem); 
            color: #f0f0f0; 
            margin-bottom: 2.5rem;
            opacity: 0;
            animation: fadeInTextSplash 1.5s ease-out 0.5s forwards; 
            text-shadow: 
                0 0 5px #fff, 
                0 0 10px var(--glow-blue), 
                0 0 20px var(--glow-blue),
                0 0 30px var(--glow-violet),
                0 0 40px var(--glow-violet);
        }

        @keyframes fadeInTextSplash { 
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .cta-button-splash { 
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            font-size: 1.1rem;
            padding: 0.8rem 2rem;
            color: #f0f0f0;
            background-color: rgba(255, 255, 255, 0.05); 
            border: 2px solid transparent; 
            border-radius: 8px;
            cursor: pointer;
            position: relative;
            overflow: hidden; 
            transition: color 0.3s ease, background-color 0.3s ease;
            box-shadow: 
                inset 1px 1px 2px rgba(255, 255, 255, 0.1), 
                inset -1px -1px 2px rgba(0, 0, 0, 0.2),
                0 0 0px var(--glow-blue); 
            animation: fadeInButtonSplash 1.5s ease-out 1s forwards;
            opacity: 0;
        }
         @keyframes fadeInButtonSplash { 
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }


        .cta-button-splash::before { 
            content: '';
            position: absolute;
            top: -2px; left: -2px; right: -2px; bottom: -2px;
            border-radius: 10px; 
            border: 2px solid var(--electric-blue);
            opacity: 0.7;
            transition: opacity 0.3s ease, box-shadow 0.3s ease;
            z-index: -1; 
             box-shadow: 0 0 5px var(--electric-blue), 0 0 10px var(--electric-blue);
        }

        .cta-button-splash:hover {
            color: #fff;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .cta-button-splash:hover::before {
            opacity: 1;
            animation: pulseButtonOutlineSplash 1.5s infinite ease-in-out; 
        }

        @keyframes pulseButtonOutlineSplash { 
            0%, 100% {
                box-shadow: 0 0 5px var(--electric-blue), 0 0 10px var(--electric-blue), 0 0 15px var(--electric-blue);
                border-color: var(--electric-blue);
            }
            50% {
                box-shadow: 0 0 8px var(--glow-violet), 0 0 15px var(--glow-violet), 0 0 25px var(--glow-violet);
                border-color: var(--deep-violet);
            }
        }

        .cta-button-splash:focus-visible {
            outline: 2px solid var(--electric-blue);
            outline-offset: 2px;
        }
        /* End of New Welcome Screen Styles */

        /* Main Site Wrapper Styles */
        #mainSiteWrapper {
            position: relative; 
            background-size: cover;
            background-position: center;
            background-attachment: fixed; 
        }
        #mainSiteWrapper::before { 
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(17, 24, 39, 0.6); 
            z-index: 0; 
        }
        header, main, footer {
            position: relative;
            z-index: 1;
        }
        main > section, #causes, #contact, .footer-bg, .bg-white, .bg-gray-100, .dark .bg-gray-800, .dark .bg-gray-700 {
            position: relative; 
            z-index: 2; 
        }


        .dark .bg-white { background-color: #1f2937 !important; } 
        .dark .text-gray-800 { color: #f3f4f6 !important; } 
        .dark .text-gray-600 { color: #9ca3af !important; } 
        .dark .text-gray-900 { color: #f9fafb !important; } 
        .dark .border-gray-200 { border-color: #374151 !important; } 
        .dark .hover\:bg-gray-100:hover { background-color: #374151 !important; } 
        .dark .hover\:text-indigo-700:hover { color: #60a5fa !important; } 
        .dark .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.25); }

        .emphasis-text-blue { color: #2563eb; }
        .dark .emphasis-text-blue { color: #60a5fa; }
        .subtle-glow-blue { box-shadow: 0 0 8px rgba(59, 130, 246, 0.3); }
        .dark .subtle-glow-blue { box-shadow: 0 0 10px rgba(96, 165, 250, 0.4); }

        .dono-heading {
            font-size: 2.5rem; 
            text-align: center;
            color: #1e3a8a; 
            font-family: 'Orbitron', sans-serif;
            margin-top: 0.5rem;
        }
        .dark .dono-heading { color: #93c5fd; } 

        .temple-name-serif {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
            font-size: 1.75rem;
            color: #3b82f6; 
        }
        .dark .temple-name-serif {
            color: #93c5fd; 
            text-shadow: none; 
        }
        
        .hero-bg {
            background-size: cover;
            background-position: center;
            position: relative; 
            overflow: hidden; 
        }
        #heroVideo { 
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: 0; 
            transform: translateX(-50%) translateY(-50%);
            opacity: 0.3; 
        }
        .hero-content-wrapper { 
            position: relative;
            z-index: 1; 
            background-size: cover;
            background-position: center;
        }
        .hero-content-wrapper-overlay { 
            background-color: rgba(0, 0, 0, 0.5); 
            padding: 1.5rem; 
        }
        @media (min-width: 768px) { 
            .hero-content-wrapper-overlay {
                padding: 2.5rem; 
            }
        }
        .hero-content-wrapper h2 { 
            color: #ffffff; 
             text-shadow: 0 0 8px rgba(0,0,0,0.7); 
        }
        .dark .hero-content-wrapper h2 {
            color: #f0f0f0; 
        }
         .hero-content-wrapper p {
            color: #f0f0f0; 
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }


        .cta-button { 
            transition: transform 0.2s, box-shadow 0.3s, background-position 0.5s;
            background-size: 200% auto;
            border-radius: 8px; 
        }
        .cta-button:hover {
            transform: translateY(-2px); 
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); 
            background-position: right center; 
        }
        .donate-now-hero { 
            background-image: linear-gradient(to right, #1d4ed8 0%, #3b82f6 50%, #1d4ed8 100%); 
            color: white;
        }
        .donate-now-hero:hover {
            background-image: linear-gradient(to right, #3b82f6 0%, #1d4ed8 50%, #3b82f6 100%);
        }

        .language-switcher select {
            background-color: transparent;
            border: 1px solid #3b82f6; 
            border-radius: 4px;
            padding: 0.3rem 0.5rem;
            color: inherit; 
        }
        .dark .language-switcher select {
            border-color: #60a5fa; 
        }
        .language-switcher option { 
            background-color: #ffffff; 
            color: #1f2937;
        }
        .dark .language-switcher option {
            background-color: #374151; 
            color: #f3f4f6; 
        }

        .nav-link {
            transition: color 0.2s, border-bottom-color 0.2s;
        }
        .nav-link.active { 
            border-bottom: 2px solid #2563eb; 
            color: #2563eb; 
            font-weight: 600; 
            text-shadow: none;
        }
        .dark .nav-link.active {
            border-bottom-color: #60a5fa; 
            color: #60a5fa; 
        }
        .nav-link:hover { 
            color: #1d4ed8; 
        }
        .dark .nav-link:hover {
            color: #93c5fd; 
        }

        #main-content {
            min-height: calc(100vh - 120px - 70px); 
            overflow-x: hidden;
        }
        .footer-bg { 
            background-color: #e5e7eb; 
        }
        .dark .footer-bg {
            background-color: #1f2937; 
        }

        .rupee10-prompt { 
            background: #f0f9ff; 
            border: 1px solid #93c5fd; 
            color: #1f2937; 
        }
        .dark .rupee10-prompt {
            background: #1e293b; 
            border: 1px solid #3b82f6; 
            color: #e2e8f0; 
        }
        .rupee10-prompt .highlight-text { 
            color: #1d4ed8; 
            text-shadow: none;
        }
        .dark .rupee10-prompt .highlight-text {
            color: #93c5fd; 
        }
        .rupee10-prompt .icon-style { 
            color: #2563eb; 
            text-shadow: none;
        }
        .dark .rupee10-prompt .icon-style {
            color: #60a5fa; 
        }
        .rupee10-prompt .cta-button { 
            background-image: linear-gradient(to right, #facc15 0%, #eab308 50%, #facc15 100%) !important; 
            color: #37300a !important; 
            text-shadow: 0 0 3px rgba(255,255,255,0.3);
        }
        .rupee10-prompt .cta-button:hover {
            box-shadow: 0 0 15px #facc15, 0 0 25px #eab308;
        }

        .page-section h2, .page-section h3:not(.rupee10-prompt h3) { 
            color: #1e3a8a; 
            text-shadow: none;
        }
        .dark .page-section h2, .dark .page-section h3:not(.rupee10-prompt h3) {
            color: #93c5fd; 
        }
        body:not(.dark) .page-section h2, body:not(.dark) .page-section h3:not(.rupee10-prompt h3) {
            color: #1e4ed8; 
        }


        #notificationBar { 
            background-image: linear-gradient(to right, #1d4ed8, #2563eb); 
            color: white;
            padding: 0.75rem 1rem;
            text-align: center;
            font-size: 0.9rem;
            position: relative;
            z-index: 500; 
            box-shadow: 0 2px 10px rgba(59, 130, 246, 0.2); 
        }
        #notificationBar button { 
            background: transparent;
            border: none;
            color: white;
            font-weight: bold;
            margin-left: 15px;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        #notificationBar button:hover {
            background-color: rgba(255,255,255,0.2);
        }

        #authModal {
            background-color: rgba(0,0,0,0.7); 
            z-index: 1001; 
        }
        #authModalContent {
            background-image: none; 
            background-color: #ffffff; 
            border: 1px solid #e5e7eb; 
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.15); 
        }
        .dark #authModalContent {
            background-color: #1f2937; 
            border: 1px solid #374151; 
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        #authModalContent h2 {
            font-family: 'Orbitron', sans-serif;
            color: #1e3a8a; 
            text-shadow: none;
        }
        .dark #authModalContent h2 { color: #93c5fd; } 

        #authModalContent label { color: #4b5563; }
        .dark #authModalContent label { color: #9ca3af; } 

        #authModalContent input[type="email"], #authModalContent input[type="password"] {
            background-color: #f9fafb; 
            border: 1px solid #d1d5db; 
            color: #111827; 
        }
        .dark #authModalContent input[type="email"], .dark #authModalContent input[type="password"] {
            background-color: #374151; 
            border: 1px solid #4b5563; 
            color: #f3f4f6; 
        }
        #authModalContent input[type="email"]:focus, #authModalContent input[type="password"]:focus {
            border-color: #3b82f6; 
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3); 
        }
        .auth-button { 
            background-image: linear-gradient(to right, #1d4ed8, #2563eb); 
            transition: all 0.3s;
        }
        .auth-button:hover {
            background-image: linear-gradient(to right, #2563eb, #1d4ed8);
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }
        .google-signin-btn {
            background-color: #fff; color: #333; border: 1px solid #ccc;
        }
        .dark .google-signin-btn {
            background-color: #374151; color: #f3f4f6; border-color: #4b5563;
        }
        .google-signin-btn:hover { background-color: #f0f0f0; }
        .dark .google-signin-btn:hover { background-color: #4b5563; }

        .guest-continue-btn { color: #2563eb; }
        .dark .guest-continue-btn { color: #60a5fa; } 
        
        .modal-close-btn { color: #6b7280; }
        .dark .modal-close-btn { color: #9ca3af; }
        .modal-close-btn:hover { color: #111827; }
        .dark .modal-close-btn:hover { color: #f3f4f6; } 

        .page-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out, visibility 0s 0.6s;
            visibility: hidden;
        }
        .page-section.is-visible {
            opacity: 1;
            transform: translateY(0);
            visibility: visible;
            transition-delay: 0s, 0s, 0s; 
        }

        .cause-card {
            position: relative;
            overflow: hidden; 
            cursor: pointer;
        }
        .cause-card::before,
        .cause-card::after {
            content: '';
            position: absolute;
            border-radius: 0.5rem; 
            pointer-events: none; 
            z-index: -1;
        }
        .cause-card::before { 
            top: -2px; left: -2px; right: -2px; bottom: -2px;
            border: 2px solid transparent;
            animation: neonBorderBlue 4s infinite linear;
        }
        .cause-card::after { 
            top: -4px; left: -4px; right: -4px; bottom: -4px;
            border: 2px solid transparent;
            animation: neonBorderViolet 5s infinite linear reverse;
        }

        @keyframes neonBorderBlue {
            0%, 100% { border-color: #00ffff; box-shadow: 0 0 5px #00ffff, inset 0 0 5px #00ffff; opacity: 0.7;}
            50% { border-color: #0077ff; box-shadow: 0 0 10px #0077ff, inset 0 0 10px #0077ff; opacity: 1;}
        }
        @keyframes neonBorderViolet {
            0%, 100% { border-color: #8a2be2; box-shadow: 0 0 5px #8a2be2, inset 0 0 5px #8a2be2; opacity: 0.6;}
            50% { border-color: #4b0082; box-shadow: 0 0 10px #4b0082, inset 0 0 10px #4b0082; opacity: 0.9;}
        }


        #causes .fa-praying-hands, #causes .fa-hammer, #causes .fa-utensils, 
        #causes .fa-calendar-alt, #causes .fa-cow, #causes .fa-book-open {
            color: #2563eb; 
        }
        .dark #causes .fa-praying-hands, .dark #causes .fa-hammer, .dark #causes .fa-utensils,
        .dark #causes .fa-calendar-alt, .dark #causes .fa-cow, .dark #causes .fa-book-open {
            color: #60a5fa; 
        }

        #themeToggleBtn .fa-moon { color: #4B5563; }
        .dark #themeToggleBtn .fa-moon { color: #FBBF24; } 
        #themeToggleBtn .fa-sun { color: #FBBF24; }
        .dark #themeToggleBtn .fa-sun { color: #FBBF24; } 

        #causeModal {
            background-color: rgba(0,0,0,0.6);
            z-index: 1002; 
        }
        #causeModalContent {
            background-color: #fff;
            max-height: 80vh;
            overflow-y: auto;
        }
        .dark #causeModalContent {
            background-color: #1f2937; 
            color: #f3f4f6;
        }
        #causeModalTitle {
            font-family: 'Cormorant Garamond', serif;
            color: #1e3a8a;
        }
        .dark #causeModalTitle {
            color: #93c5fd;
        }
        #causeModalBody p {
            margin-bottom: 0.75rem;
            line-height: 1.6;
        }

    </style>
</head>
<body class=""> 
    <div id="welcomeScreenContainer"> <div class="welcome-container-content"> <div class="silhouette-container">
                <svg class="kaal-bhairav-silhouette" viewBox="0 0 100 125" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50 0 L60 25 L55 25 L55 60 L75 80 L70 85 L50 65 L30 85 L25 80 L45 60 L45 25 L40 25 Z M20 75 L80 75 L80 80 L20 80 Z M40 90 L60 90 L60 110 L55 120 L45 120 L40 110 Z"/>
                </svg>
                
                <svg class="neon-lines" viewBox="0 0 100 125" xmlns="http://www.w3.org/2000/svg">
                    <path class="line line-blue" d="M50 2 Q60 25 55 25 T55 60 Q75 80 70 85 T50 65 T30 85 Q25 80 45 60 T45 25 Q40 25 50 2" />
                    <path class="line line-blue" d="M22 75 Q50 72 78 75" style="animation-delay: -1.5s;"/>
                    <path class="line line-blue" d="M42 90 Q50 88 58 90 T55 118 T45 118 T42 90" style="animation-delay: -0.5s;"/>

                    <path class="line line-violet" d="M50 3 Q59 26 54 26 T54 61 Q74 81 69 86 T50 66 T31 86 Q26 81 46 61 T46 26 Q41 26 50 3" />
                    <path class="line line-violet" d="M23 76 Q50 73 77 76" style="animation-delay: -4.5s;"/>
                    <path class="line line-violet" d="M43 91 Q50 89 57 91 T54 117 T46 117 T43 91" style="animation-delay: -3.5s;"/>
                </svg>
            </div>
            <h1 class="welcome-text-splash" data-lang-key="welcomeTitleNew">Welcome to Kaal Bhairav</h1>
            <button class="cta-button-splash" id="getStartedBtn" data-lang-key="welcomeCTANew">
                Get Started
            </button>
        </div>
    </div>
    <div id="mainSiteWrapper" class="hidden">

        <header class="sticky top-0 z-50 shadow-md">
            <div class="bg-white dark:bg-gray-800 py-2 px-4 md:px-6">
                <div class="container mx-auto flex items-center justify-between">
                    <div class="flex items-center">
                        <img src="https://media-hosting.imagekit.io/a125841e856348c6/a-majestic-logo-in-a-digital-painting-st_bmbZRl8MTfC9DSdEALL2ew_sHZPiI6oR36sO8eVcYje5g%20(1).jpeg?Expires=1841821163&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=qEv-uA6gwsv3ADZiZ~NPXkfzGT7F~XVFcqY5u7sZGo26T5y688WUbwPdX544kcgcBaMSjwjtabA0n0xNlmU5AGhpXHJ2KOM7Ck9tcZazNBPWMgCLnoQV3DtIkrBMJ1glKQiFWtk-K2Q7NLFb3B1NZNJKiFLS1pf62GAC4Q5c4Xrv3ZgXz8djRd4GDZrNUK~t64ArBOjkcpypKnNvU4FoQvqA6S1W0wzeAkJNfAWId6HfOUILrUQPSEgtiYHmtVes0edMBSNQDHfGTKOWLZ7yX9OEaswC02JlCjerX06L7aQP5S3qlIJoVGFyvJqjWFsyLDLN~e5EyK3u1sZpz7~row__"
                             alt="Kaal Bhairav Temple Logo" class="h-10 w-10 md:h-12 md:w-12 mr-2 rounded-full object-cover subtle-glow-blue"
                             onerror="this.onerror=null; this.src='https://placehold.co/48x48/1f2937/93c5fd?text=Logo';">
                        <div>
                            <h1 class="dono-heading text-xl md:text-2xl">DONO</h1>
                            <p class="temple-name-serif text-sm md:text-base" data-lang-key="templeName">Kaal Bhairav Temple</p>
                        </div>
                    </div>
                    <div id="headerUserControls" class="flex items-center space-x-2 md:space-x-3">
                        </div>
                </div>
            </div>

            <div id="notificationBar" class="hidden"> <p>📢 <span data-lang-key="promoNotification">DONATE US! Your contribution, big or small (even ₹1), makes a divine difference. The amount is yours to choose.</span>
                    <button id="closeNotificationBar" aria-label="Close notification">X</button>
                </p>
            </div>

            <nav class="bg-gray-100 dark:bg-gray-700 py-3 shadow-sm">
                <div class="container mx-auto flex justify-center items-center space-x-3 sm:space-x-4 md:space-x-6">
                    <a href="#home" class="nav-link text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-2 py-1 text-sm sm:text-base" data-lang-key="navHome">Home</a>
                    <a href="#about" class="nav-link text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-2 py-1 text-sm sm:text-base" data-lang-key="navAbout">About Us</a>
                    <a href="#causes" class="nav-link text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-2 py-1 text-sm sm:text-base" data-lang-key="navCauses">Causes & Rituals</a>
                    <a href="#donate" class="nav-link text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-2 py-1 text-sm sm:text-base" data-lang-key="navDonate">Donate</a>
                    <a href="#contact" class="nav-link text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 px-2 py-1 text-sm sm:text-base" data-lang-key="navContact">Contact</a>
                </div>
            </nav>
        </header>

        <main id="main-content" class="container mx-auto px-4 py-8">

            <section id="home" class="page-section">
                <div class="mb-8 text-center">
                    <img src="https://ik.imagekit.io/6ilngyaqa/1747475824941-a-digital-painting-of-a-colossal-statue-_7Whqu58fTfWCEiAExzDiAw_w7tiiTrhSNuq-0DgkjQodw_j9neuQjLn.jpeg" 
                         alt="Kaal Bhairav - Cosmic Guardian" 
                         class="w-full max-w-2xl mx-auto h-auto rounded-lg shadow-xl object-cover"
                         onerror="this.onerror=null; this.src='https://placehold.co/1024x768/1a1a1a/e0e0e0?text=Cosmic+Guardian';">
                </div>

                <div class="hero-bg rounded-lg shadow-xl overflow-hidden min-h-[70vh] md:min-h-[80vh] flex flex-col justify-center items-center text-center">
                    <video autoplay loop muted playsinline id="heroVideo"
                           poster="https://media-hosting.imagekit.io/d523d3f545f44b0b/a-digital-painting-depicting-the-majesti_nka5VoH2RKu1SLiLPpBRhg_Fa6J9yYFRXOrspDXjKPSCw.jpeg?Expires=1841821005&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=3EFIlvmgU8oLqsV9WWD3DX5~8~e6MRZWiaaaV~MUQcisdwECwB1jS2YLqeq509MtQilFylcMt0wqKJWVyZ~Fon7Sr-yCb1nb1KyKnW1rTQYKuIRm1QgRktijaz6Y--JiltqlM2p8mGb9AuR1GxfLuA0SGd8t6tWOe7ZfwmQF3ExlxYoYVIZQfnzMDun9e5q00ejj1twqebA57ToJHZ~APv1oNGcdISixCqAgBNv2Qxk5VoTaQEcCxC8LL~xBBq5nKe0mNiDEQeZsCI-VfUGdNz8XlCmxnP3SZ4xfkhJGBptX8Tp5ekwofHb33HfQpVifDF57VWY1yMbXXaf~Gs6HRw__"
                           onerror="this.style.display='none'; console.error('Error loading video or poster.')">
                        <source src="https://assets.mixkit.co/videos/preview/mixkit-abstract-video-of-a-galaxy-29%20%D0%B0%D0%B1%D1%81%D1%82%D1%80%D0%B0%D0%BA%D1%82%D0%BD%D0%BE%D0%B5%20%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%20%D0%B3%D0%B0%D0%BB%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B8-medium.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="hero-content-wrapper rounded-lg" style="background-image: url('https://ik.imagekit.io/6ilngyaqa/1747479869928-image__1__8_H0_DZdwI.png');">
                        <div class="hero-content-wrapper-overlay rounded-lg">
                            <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 emphasis-text-blue" data-lang-key="heroHeadline">Support the Divine Grace of Kaal Bhairav</h2>
                            <p class="text-lg sm:text-xl mb-8" data-lang-key="heroSubheadline">Your sacred contributions help preserve rituals, festivals, and the upkeep of the holy shrine.</p>
                            <a href="#donate" class="cta-button donate-now-hero nav-link inline-block font-semibold py-3 px-8 text-lg shadow-md" data-lang-key="donateNow">
                                Donate Now
                            </a>
                        </div>
                    </div>
                </div>

                <div class="my-12 text-center"> <img src="https://ik.imagekit.io/6ilngyaqa/1747475251760-a-digital-painting-of-a-colossal-statue-_7Whqu58fTfWCEiAExzDiAw_w7tiiTrhSNuq-0DgkjQodw_smgwoKpOT.jpeg" 
                         alt="Divine Statue Offering" 
                         class="w-full max-w-lg mx-auto h-auto rounded-lg shadow-xl subtle-glow-blue object-cover" onerror="this.onerror=null; this.src='https://placehold.co/768x512/1f2937/93c5fd?text=Divine+Image';">
                </div>

                <div class="mt-12 p-6 md:p-8 rounded-xl shadow-lg rupee10-prompt">
                    <div class="flex flex-col md:flex-row items-center">
                        <div class="text-5xl md:text-6xl mr-0 md:mr-6 mb-4 md:mb-0 icon-style">
                            <i class="fas fa-om"></i> </div>
                        <div>
                            <h3 class="text-2xl font-semibold highlight-text mb-2" data-lang-key="rupee10Headline">Begin Your Seva with Just ₹10</h3>
                            <p class="mb-3" data-lang-key="rupee10Subheadline">
                                Even a single diya can light the path of devotion. Your ₹10 offering helps sustain daily rituals, temple upkeep, and charitable services at Kaal Bhairav Temple.
                            </p>
                            <p class="font-medium mb-1"><span class="icon-style">🌟</span> <span data-lang-key="rupee10Intention">No amount is too small—only the intention matters.</span></p>
                            <p class="font-medium mb-4"><span class="icon-style">🔱</span> <span data-lang-key="rupee10Blessings">Offer now and be blessed with divine protection.</span></p>
                            <div class="flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4">
                                <a href="#donate" class="nav-link w-full sm:w-auto cta-button font-bold py-3 px-6 rounded-lg text-center" data-lang-key="rupee10CTA">Start your Seva with ₹10 today</a>
                                <p class="text-sm text-gray-500 dark:text-gray-400"><span class="icon-style">🔒</span> <span data-lang-key="rupee10Secure">Secure. Simple. Sacred.</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                </section>

            <section id="about" class="page-section py-12">
                <h2 class="text-3xl font-bold text-center mb-8" data-lang-key="aboutTitle">About Kaal Bhairav Temple</h2>
                <div class="text-lg text-center bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl">
                    <p class="mb-4" data-lang-key="aboutP1">
                        The Kaal Bhairav Temple is a revered Hindu shrine dedicated to Lord Kaal Bhairav, a fierce manifestation of Lord Shiva associated with annihilation and time. He is considered the guardian deity and a protector of his devotees.
                    </p>
                    <p class="mb-4" data-lang-key="aboutP2">
                        Legend has it that visiting this temple and offering prayers to Lord Kaal Bhairav can alleviate suffering, remove obstacles, and grant protection from negative energies. Devotees from all over the world come to seek his blessings for courage, strength, and spiritual liberation.
                    </p>
                    <p class="mb-4 font-semibold" data-lang-key="aboutWorking">
                        WE ARE WORKING ON OUR TEMPLE.
                    </p>
                    <p data-lang-key="aboutP3">
                        HERE IS ADDRESS OF TEMPLE = Village Nagla Tota Post Pichuna Teh. Roopwas District Bharatpur (Raj.)-321301. Our mission is to preserve the sanctity and traditions of this sacred space, ensuring that the divine rituals and charitable activities continue to benefit all. Your support helps us maintain the temple, conduct pujas, and serve the community.
                    </p>
                </div>
            </section>

            <section id="causes" class="page-section py-12 bg-gray-100 dark:bg-gray-800 rounded-lg my-8">
                <h2 class="text-3xl font-bold text-center mb-10" data-lang-key="causesTitle">Causes & Rituals We Support</h2>
                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="cause-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1" data-cause="dailyPuja">
                        <div class="text-4xl mb-4"><i class="fas fa-praying-hands"></i></div>
                        <h3 class="text-xl font-semibold mb-2" data-lang-key="causeDailyPujaTitle">Daily Pujas & Archana</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="causeDailyPujaDesc">Your contributions help fund the daily elaborate pujas, archanas, and abhishekams performed by temple priests, maintaining the spiritual vibrancy of the shrine.</p>
                    </div>
                    <div class="cause-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1" data-cause="templeMaintenance">
                        <div class="text-4xl mb-4"><i class="fas fa-hammer"></i></div>
                        <h3 class="text-xl font-semibold mb-2" data-lang-key="causeTempleMaintenanceTitle">Temple Upkeep & Renovation</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="causeTempleMaintenanceDesc">Ensuring the structural integrity and cleanliness of the temple premises, including periodic renovations and beautification projects.</p>
                    </div>
                    <div class="cause-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1" data-cause="annadanam">
                        <div class="text-4xl mb-4"><i class="fas fa-utensils"></i></div>
                        <h3 class="text-xl font-semibold mb-2" data-lang-key="causeAnnadanamTitle">Annadanam (Food Donation)</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="causeAnnadanamDesc">Providing free, sanctified meals (prasad) to devotees, pilgrims, and the needy, embodying the spirit of selfless service.</p>
                    </div>
                    <div class="cause-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1" data-cause="festivals">
                        <div class="text-4xl mb-4"><i class="fas fa-calendar-alt"></i></div>
                        <h3 class="text-xl font-semibold mb-2" data-lang-key="causeFestivalsTitle">Festival Celebrations</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="causeFestivalsDesc">Organizing grand celebrations for major festivals like Mahashivratri, Kaal Bhairav Jayanti, and Navaratri, including special rituals and cultural programs.</p>
                    </div>
                     <div class="cause-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1" data-cause="gauSeva">
                        <div class="text-4xl mb-4"><i class="fas fa-cow"></i></div>
                        <h3 class="text-xl font-semibold mb-2" data-lang-key="causeGauSevaTitle">Gau Seva (Cow Protection)</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="causeGauSevaDesc">Caring for temple cows, considered sacred, by providing fodder, shelter, and medical attention, upholding an ancient tradition of reverence for life.</p>
                    </div>
                     <div class="cause-card bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1" data-cause="vedicEducation">
                        <div class="text-4xl mb-4"><i class="fas fa-book-open"></i></div>
                        <h3 class="text-xl font-semibold mb-2" data-lang-key="causeVedicEducationTitle">Vedic Education & Priest Welfare</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="causeVedicEducationDesc">Supporting the education of young priests in Vedic scriptures and rituals, and ensuring the welfare of the temple's dedicated sevaks.</p>
                    </div>
                </div>
            </section>

            <section id="donate" class="page-section py-12">
                <h2 class="text-3xl font-bold text-center mb-8" data-lang-key="donateTitle">Make a Divine Offering</h2>
                <div class="max-w-lg mx-auto bg-white dark:bg-gray-700 p-8 rounded-xl shadow-2xl">
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-6" data-lang-key="donateDesc">
                        Your generosity sustains the temple's sacred traditions and charitable work. Every contribution, no matter the size, is a step towards divine grace.
                    </p>
                    <form id="donationForm">
                        <div class="mb-6">
                            <label for="amount" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" data-lang-key="donationAmountLabel">Donation Amount (INR)</label>
                            <div class="flex space-x-2 mb-2">
                                <button type="button" class="donation-preset-btn flex-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-700 dark:text-blue-300 py-2 px-3 rounded-md transition-colors" data-amount="101">₹101</button>
                                <button type="button" class="donation-preset-btn flex-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-700 dark:text-blue-300 py-2 px-3 rounded-md transition-colors" data-amount="251">₹251</button>
                                <button type="button" class="donation-preset-btn flex-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-700 dark:text-blue-300 py-2 px-3 rounded-md transition-colors" data-amount="501">₹501</button>
                                <button type="button" class="donation-preset-btn flex-1 bg-blue-100 dark:bg-blue-800 hover:bg-blue-200 dark:hover:bg-blue-700 text-blue-700 dark:text-blue-300 py-2 px-3 rounded-md transition-colors" data-amount="1001">₹1001</button>
                            </div>
                            <input type="number" id="amount" name="amount" class="mt-1 block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" placeholder="Enter amount or select preset" required min="10">
                        </div>
                        <div class="mb-4">
                            <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" data-lang-key="donorNameLabel">Full Name</label>
                            <input type="text" id="name" name="name" class="mt-1 block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" required>
                        </div>
                        <div class="mb-6">
                            <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" data-lang-key="donorEmailLabel">Email Address</label>
                            <input type="email" id="email" name="email" class="mt-1 block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" required>
                        </div>
                        <button type="submit" class="w-full cta-button donate-now-hero text-white font-semibold py-3 px-6 rounded-lg text-lg shadow-md" data-lang-key="proceedToPayment">
                            Proceed to Secure Payment
                        </button>
                    </form>
                    <p id="donationMessage" class="mt-4 text-center text-sm"></p>
                </div>
            </section>

            <section id="contact" class="page-section py-12 bg-gray-100 dark:bg-gray-800 rounded-lg my-8">
                <h2 class="text-3xl font-bold text-center mb-8" data-lang-key="contactTitle">Get In Touch</h2>
                <div class="max-w-xl mx-auto"> <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-semibold mb-3 text-blue-700 dark:text-blue-300" data-lang-key="contactTempleAddressTitle">Temple Address</h3>
                        <p class="text-gray-600 dark:text-gray-300" data-lang-key="contactTempleAddressUpdated">
                            Village Nagla Tota Post Pichuna Teh. Roopwas District Bharatpur (Raj.)-321301
                        </p>
                        <p class="mt-4 text-gray-600 dark:text-gray-300">
                            <i class="fas fa-phone-alt mr-2 text-blue-600 dark:text-blue-400"></i> <a href="tel:+910000000000" class="hover:underline" data-lang-key="contactPhone">+91-XXX-XXXXXXX</a>
                        </p>
                        <p class="mt-2 text-gray-600 dark:text-gray-300">
                            <i class="fas fa-envelope mr-2 text-blue-600 dark:text-blue-400"></i> <a href="mailto:info@kaalbhairavtemple.org" class="hover:underline" data-lang-key="contactEmail">info@kaalbhairavtemple.org</a>
                        </p>
                         <div class="mt-4">
                            <h4 class="font-semibold text-gray-700 dark:text-gray-200 mb-1" data-lang-key="contactTimingsTitle">Temple Timings:</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-300" data-lang-key="contactTimings">Open Daily: 5:00 AM - 10:00 PM (Subject to change during festivals)</p>
                        </div>
                    </div>
                    </div>
            </section>
        </main>

        <footer class="footer-bg text-gray-700 dark:text-gray-300 py-10">
            <div class="container mx-auto text-center">
                <div class="mb-4">
                    <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-white mx-2"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-white mx-2"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-white mx-2"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-white mx-2"><i class="fab fa-youtube"></i></a>
                </div>
                <p class="text-sm mb-2" data-lang-key="footerInfo">This website is a conceptual representation for DONO - Kaal Bhairav Temple contributions. All donations are illustrative.</p>
                <p class="text-sm" data-lang-key="footerCopyright">&copy; <span id="currentYear"></span> Kaal Bhairav Temple Seva. All Rights Reserved.</p>
                 <p class="text-xs mt-3" data-lang-key="footerDisclaimer">Disclaimer: This is a sample template. Replace with actual temple information and legal disclaimers.</p>
            </div>
        </footer>

    </div> 
    
    <div id="causeModal" class="fixed inset-0 items-center justify-center hidden z-[1002]">
        <div id="causeModalContent" class="p-6 md:p-8 rounded-xl shadow-2xl w-full max-w-2xl mx-auto relative max-h-[80vh] overflow-y-auto">
            <button id="closeCauseModal" class="modal-close-btn absolute top-4 right-4 text-2xl">&times;</button>
            <h2 id="causeModalTitle" class="text-2xl md:text-3xl font-bold text-center mb-6">Cause Title</h2>
            <div id="causeModalBody" class="text-gray-700 dark:text-gray-300">
                </div>
        </div>
    </div>

    <div id="authModal" class="fixed inset-0 items-center justify-center hidden z-[1001]"> 
        <div id="authModalContent" class="p-6 md:p-8 rounded-xl shadow-2xl w-full max-w-md mx-auto relative">
            <button id="closeAuthModal" class="modal-close-btn absolute top-4 right-4 text-2xl">&times;</button>
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-6" data-lang-key="authModalTitle">Login or Sign Up</h2>
            <form id="loginForm">
                <div class="mb-4">
                    <label for="authEmail" class="block text-sm font-medium mb-1" data-lang-key="authEmailLabel">Email Address</label>
                    <input type="email" id="authEmail" name="email" class="w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div class="mb-6">
                    <label for="authPassword" class="block text-sm font-medium mb-1" data-lang-key="authPasswordLabel">Password</label>
                    <input type="password" id="authPassword" name="password" class="w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                <button type="submit" class="auth-button w-full text-white font-semibold py-3 px-6 rounded-lg text-lg" data-lang-key="authLoginButton">Login</button>
            </form>
            <p class="text-center my-4 text-sm" data-lang-key="authOr">OR</p>
            <button id="googleSignInBtn" class="google-signin-btn w-full font-medium py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 mb-4">
                <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google logo" class="w-5 h-5"> <span data-lang-key="authGoogleButton">Sign in with Google</span>
            </button>
            <div class="text-center">
                <button id="continueAsGuestBtn" class="guest-continue-btn font-medium text-sm hover:underline" data-lang-key="authGuestButton">Continue as Guest</button>
            </div>
            <p id="authMessage" class="mt-4 text-center text-sm text-red-500 dark:text-red-400"></p>
        </div>
    </div>


<script>
document.addEventListener('DOMContentLoaded', () => {
    
    const mainSiteWrapper = document.getElementById('mainSiteWrapper');
    if (mainSiteWrapper) {
        mainSiteWrapper.style.backgroundImage = "url('https://ik.imagekit.io/6ilngyaqa/1747479703806-image_e_sQX0wVP.png')";
    }

    const heroContentWrapper = document.querySelector('.hero-content-wrapper');
    if (heroContentWrapper) {
        heroContentWrapper.style.backgroundImage = "url('https://ik.imagekit.io/6ilngyaqa/1747479869928-image__1__8_H0_DZdwI.png')";
    }


    const welcomeScreen = document.getElementById('welcomeScreenContainer'); 
    const enterSiteButton = document.getElementById('getStartedBtn'); 
    
    function initializeSectionObserver() {
        sections.forEach(section => {
            const rect = section.getBoundingClientRect();
            if (rect.top < window.innerHeight && rect.bottom >= 0 && !section.classList.contains('is-visible')) {
                if (section.id === 'home' || sessionStorage.getItem('justEnteredSite')) {
                    section.classList.add('is-visible');
                }
            }
            sectionObserver.observe(section);
        });
        sessionStorage.removeItem('justEnteredSite'); 
    }

    if (enterSiteButton && welcomeScreen && mainSiteWrapper) {
        if (sessionStorage.getItem('siteEntered') === 'true') { 
            welcomeScreen.classList.add('hidden'); 
            mainSiteWrapper.classList.remove('hidden'); 
            document.body.style.overflow = 'auto'; // Ensure scroll is re-enabled
            setTimeout(initializeSectionObserver, 50);
        }

        enterSiteButton.addEventListener('click', () => {
            welcomeScreen.style.opacity = '0'; 
            setTimeout(() => {
                welcomeScreen.classList.add('hidden');
                document.body.style.overflow = 'auto'; 
                mainSiteWrapper.classList.remove('hidden');
                sessionStorage.setItem('siteEntered', 'true');
                sessionStorage.setItem('justEnteredSite', 'true'); 
                setTimeout(initializeSectionObserver, 50); 
                showNotificationBarIfNeeded();
            }, 700); 
        });
    } else {
        if (mainSiteWrapper && (!welcomeScreen || welcomeScreen.classList.contains('hidden'))) {
            document.body.style.overflow = 'auto';
            mainSiteWrapper.classList.remove('hidden');
            setTimeout(initializeSectionObserver, 50);
            showNotificationBarIfNeeded();
        } else if (!enterSiteButton && mainSiteWrapper) { 
             console.warn("Welcome screen button not found, but welcome screen exists. Site might be stuck on welcome.");
        }
    }

    function applyTheme(theme) {
        const themeToggleBtn = document.getElementById('themeToggleBtn'); 
        if (theme === 'dark') {
            document.documentElement.classList.add('dark');
            if (themeToggleBtn) themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>'; 
        } else {
            document.documentElement.classList.remove('dark');
            if (themeToggleBtn) themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>'; 
        }
        if (themeToggleBtn && themeToggleBtn.querySelector('i')) {
            const icon = themeToggleBtn.querySelector('i');
            if (theme === 'dark') { 
                icon.className = 'fas fa-sun text-yellow-400';
            } else { 
                icon.className = 'fas fa-moon text-gray-600';
            }
        }
    }

    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (savedTheme) {
        applyTheme(savedTheme);
    } else if (prefersDark) {
        applyTheme('dark');
    } else {
        applyTheme('light'); 
    }

    const navLinks = document.querySelectorAll('nav .nav-link');
    const sections = document.querySelectorAll('.page-section');

    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.3 
    };

    const sectionObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            const navLink = document.querySelector(`nav .nav-link[href="#${entry.target.id}"]`);
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                if (navLink) {
                    navLinks.forEach(link => link.classList.remove('active'));
                    navLink.classList.add('active');
                }
            } 
        });
    }, observerOptions);


    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            navLinks.forEach(lnk => lnk.classList.remove('active'));
            this.classList.add('active');
            
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                targetSection.classList.add('is-visible');
            }
        });
    });

    const currentYearSpan = document.getElementById('currentYear');
    if (currentYearSpan) {
        currentYearSpan.textContent = new Date().getFullYear();
    }

    const notificationBar = document.getElementById('notificationBar');
    const closeNotificationBar = document.getElementById('closeNotificationBar');

    function showNotificationBarIfNeeded() {
        if (notificationBar && !localStorage.getItem('notificationDismissed')) {
            notificationBar.classList.remove('hidden');
            notificationBar.style.opacity = '1'; 
        }
    }

    if (closeNotificationBar && notificationBar) {
        closeNotificationBar.addEventListener('click', () => {
            notificationBar.style.transition = 'opacity 0.3s ease-out';
            notificationBar.style.opacity = '0';
            setTimeout(() => {
                notificationBar.classList.add('hidden');
            }, 300); 
            localStorage.setItem('notificationDismissed', 'true');
        });
    }
    if (!welcomeScreen || welcomeScreen.classList.contains('hidden')) {
       showNotificationBarIfNeeded();
    }

    const authModal = document.getElementById('authModal');
    const closeAuthModalBtn = document.getElementById('closeAuthModal'); 
    const loginForm = document.getElementById('loginForm');
    const authMessage = document.getElementById('authMessage');
    const headerUserControls = document.getElementById('headerUserControls');
    const continueAsGuestBtn = document.getElementById('continueAsGuestBtn');

    function openAuthModal() {
        if (authModal) {
            authModal.classList.remove('hidden');
            authModal.classList.add('flex'); 
        }
    }

    function closeAuthModalFunction() { 
        if (authModal) {
            authModal.classList.add('hidden');
            authModal.classList.remove('flex');
            if(authMessage) authMessage.textContent = ''; 
        }
    }

    if (closeAuthModalBtn) closeAuthModalBtn.addEventListener('click', closeAuthModalFunction);
    if (continueAsGuestBtn) continueAsGuestBtn.addEventListener('click', closeAuthModalFunction);

    if (loginForm) {
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('authEmail').value;
            if (authMessage) {
                authMessage.textContent = 'Login successful! (Mock)';
                authMessage.className = 'mt-4 text-center text-sm text-green-500 dark:text-green-400';
            }
            setTimeout(closeAuthModalFunction, 1500);
            updateHeaderForLoggedInUser(email.split('@')[0] || 'Devotee'); 
        });
    }

    function updateHeaderForGuest() {
        if (!headerUserControls) return;
        headerUserControls.innerHTML = `
            <button id="loginBtn" class="text-sm sm:text-base bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 md:px-4 rounded-md transition-colors cta-button" data-lang-key="login">Login</button>
            <div class="language-switcher">
                <select id="languageSelector" class="text-sm appearance-none p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="en">EN</option>
                    <option value="hi">HI</option>
                </select>
            </div>
            <button id="themeToggleBtn" class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="Toggle theme">
                </button>
        `;
        document.getElementById('loginBtn')?.addEventListener('click', openAuthModal);
        attachThemeToggleLogic();
        attachLangSwitcher(); 
        applyTheme(localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')); 
    }

    function updateHeaderForLoggedInUser(userName) {
        if (!headerUserControls) return;
        const displayUserName = userName.length > 15 ? userName.substring(0, 12) + "..." : userName;

        headerUserControls.innerHTML = `
            <span class="text-sm sm:text-base text-gray-700 dark:text-gray-200 truncate" title="${userName}" data-lang-key="welcomeUser">Welcome, ${displayUserName}</span>
            <button id="logoutBtn" class="text-sm sm:text-base bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 md:px-4 rounded-md transition-colors" data-lang-key="logout">Logout</button>
            <div class="language-switcher">
                <select id="languageSelector" class="text-sm appearance-none p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="en">EN</option>
                    <option value="hi">HI</option>
                </select>
            </div>
            <button id="themeToggleBtn" class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="Toggle theme">
                 </button>
        `;
        document.getElementById('logoutBtn')?.addEventListener('click', () => {
            updateHeaderForGuest();
            if (authMessage) { 
                authMessage.textContent = 'Logged out successfully.';
                authMessage.className = 'mt-4 text-center text-sm text-green-500 dark:text-green-400';
                setTimeout(() => { if(authMessage) authMessage.textContent = ''; }, 2000);
            }
        });
        attachThemeToggleLogic();
        attachLangSwitcher();
        applyTheme(localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')); 
    }
    
    function attachThemeToggleLogic() {
        const themeToggleBtn = document.getElementById('themeToggleBtn');
        if (themeToggleBtn) {
            themeToggleBtn.addEventListener('click', () => {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                applyTheme(isDark ? 'dark' : 'light'); 
            });
        }
    }
    updateHeaderForGuest(); 

    const donationForm = document.getElementById('donationForm');
    const donationMessage = document.getElementById('donationMessage');
    const amountInput = document.getElementById('amount');
    const presetButtons = document.querySelectorAll('.donation-preset-btn');

    if (donationForm && amountInput) {
        presetButtons.forEach(button => {
            button.addEventListener('click', () => {
                amountInput.value = button.dataset.amount;
            });
        });

        donationForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const amountVal = amountInput.value;
            const nameVal = document.getElementById('name').value;
            if (donationMessage) {
                donationMessage.textContent = `Thank you, ${nameVal}! Processing your donation of ₹${amountVal}. (This is a mock process).`;
                donationMessage.className = 'mt-4 text-center text-sm text-green-600 dark:text-green-400';
            }
            setTimeout(() => {
                if (donationMessage) donationMessage.textContent = 'Redirecting to payment gateway... (mock)';
            }, 2000);
        });
    }

    const contactForm = document.getElementById('contactForm');
    const contactFormMessage = document.getElementById('contactFormMessage');
    if (contactForm) {
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            if (contactFormMessage) {
                contactFormMessage.textContent = 'Thank you for your message! We will get back to you soon. (Mock response)';
                contactFormMessage.className = 'mt-3 text-center text-sm text-green-600 dark:text-green-400';
            }
            contactForm.reset();
        });
    }

    const translations = {
        en: {
            welcomeTitle: "Welcome to Kaal Bhairav Temple", 
            welcomeSubtitle: "Where Devotion Meets Divine Power", 
            welcomeInfo: "Join us in preserving sacred traditions through your seva.", 
            welcomeCTA: "Start by offering just ₹10", 
            welcomeTitleNew: "Welcome to Kaal Bhairav", 
            welcomeSubtitleNew: "Experience the divine power and serenity.", 
            welcomeCTANew: "Get Started", 
            templeName: "Kaal Bhairav Temple", login: "Login", logout: "Logout", welcomeUser: "Welcome,", 
            promoNotification: "DONATE US! Your contribution, big or small (even ₹1), makes a divine difference. The amount is yours to choose.",
            navHome: "Home", navAbout: "About Us", navCauses: "Causes & Rituals", navDonate: "Donate", navContact: "Contact",
            heroHeadline: "Support the Divine Grace of Kaal Bhairav", heroSubheadline: "Your sacred contributions help preserve rituals, festivals, and the upkeep of the holy shrine.", donateNow: "Donate Now",
            rupee10Headline: "Begin Your Seva with Just ₹10", rupee10Subheadline: "Even a single diya can light the path of devotion. Your ₹10 offering helps sustain daily rituals, temple upkeep, and charitable services at Kaal Bhairav Temple.", rupee10Intention: "No amount is too small—only the intention matters.", rupee10Blessings: "Offer now and be blessed with divine protection.", rupee10CTA: "Start your Seva with ₹10 today", rupee10Secure: "Secure. Simple. Sacred.",
            aboutTitle: "About Kaal Bhairav Temple", 
            aboutP1: "The Kaal Bhairav Temple is a revered Hindu shrine dedicated to Lord Kaal Bhairav, a fierce manifestation of Lord Shiva associated with annihilation and time. He is considered the guardian deity and a protector of his devotees.", 
            aboutP2: "Legend has it that visiting this temple and offering prayers to Lord Kaal Bhairav can alleviate suffering, remove obstacles, and grant protection from negative energies. Devotees from all over the world come to seek his blessings for courage, strength, and spiritual liberation.", 
            aboutWorking: "WE ARE WORKING ON OUR TEMPLE.",
            aboutP3: "HERE IS ADDRESS OF TEMPLE = Village Nagla Tota Post Pichuna Teh. Roopwas District Bharatpur (Raj.)-321301. Our mission is to preserve the sanctity and traditions of this sacred space, ensuring that the divine rituals and charitable activities continue to benefit all. Your support helps us maintain the temple, conduct pujas, and serve the community.",
            causesTitle: "Causes & Rituals We Support", causeDailyPujaTitle: "Daily Pujas & Archana", causeDailyPujaDesc: "Your contributions help fund the daily elaborate pujas, archanas, and abhishekams performed by temple priests, maintaining the spiritual vibrancy of the shrine.", causeTempleMaintenanceTitle: "Temple Upkeep & Renovation", causeTempleMaintenanceDesc: "Ensuring the structural integrity and cleanliness of the temple premises, including periodic renovations and beautification projects.", causeAnnadanamTitle: "Annadanam (Food Donation)", causeAnnadanamDesc: "Providing free, sanctified meals (prasad) to devotees, pilgrims, and the needy, embodying the spirit of selfless service.", causeFestivalsTitle: "Festival Celebrations", causeFestivalsDesc: "Organizing grand celebrations for major festivals like Mahashivratri, Kaal Bhairav Jayanti, and Navaratri, including special rituals and cultural programs.", causeGauSevaTitle: "Gau Seva (Cow Protection)", causeGauSevaDesc: "Caring for temple cows, considered sacred, by providing fodder, shelter, and medical attention, upholding an ancient tradition of reverence for life.", causeVedicEducationTitle: "Vedic Education & Priest Welfare", causeVedicEducationDesc: "Supporting the education of young priests in Vedic scriptures and rituals, and ensuring the welfare of the temple's dedicated sevaks.",
            donateTitle: "Make a Divine Offering", donateDesc: "Your generosity sustains the temple's sacred traditions and charitable work. Every contribution, no matter the size, is a step towards divine grace.", donationAmountLabel: "Donation Amount (INR)", donorNameLabel: "Full Name", donorEmailLabel: "Email Address", proceedToPayment: "Proceed to Secure Payment",
            contactTitle: "Get In Touch", contactTempleAddressTitle: "Temple Address", 
            contactTempleAddressUpdated: "Village Nagla Tota Post Pichuna Teh. Roopwas District Bharatpur (Raj.)-321301",
            contactPhone: "+91-XXX-XXXXXXX", contactEmail: "info@kaalbhairavtemple.org", contactTimingsTitle: "Temple Timings:", contactTimings: "Open Daily: 5:00 AM - 10:00 PM (Subject to change during festivals)", contactFormTitle: "Send Us a Message", contactFormNameLabel: "Your Name", contactFormEmailLabel: "Your Email", contactFormMessageLabel: "Message", contactFormSend: "Send Message",
            footerInfo: "This website is a conceptual representation for DONO - Kaal Bhairav Temple contributions. All donations are illustrative.", footerCopyright: `&copy; ${new Date().getFullYear()} Kaal Bhairav Temple Seva. All Rights Reserved.`, footerDisclaimer: "Disclaimer: This is a sample template. Replace with actual temple information and legal disclaimers.",
            authModalTitle: "Login or Sign Up", authEmailLabel: "Email Address", authPasswordLabel: "Password", authLoginButton: "Login", authOr: "OR", authGoogleButton: "Sign in with Google", authGuestButton: "Continue as Guest",
        },
        hi: {
            welcomeTitle: "काल भैरव मंदिर में आपका स्वागत है", 
            welcomeSubtitle: "जहां भक्ति दिव्य शक्ति से मिलती है", 
            welcomeInfo: "पवित्र परंपराओं को संरक्षित करने में हमारी सेवा के माध्यम से जुड़ें।", 
            welcomeCTA: "केवल ₹10 अर्पित करके आरंभ करें",
            welcomeTitleNew: "काल भैरव में स्वागत है", 
            welcomeSubtitleNew: "दिव्य शक्ति और शांति का अनुभव करें।", 
            welcomeCTANew: "शुरू हो जाओ", 
            templeName: "काल भैरव मंदिर", login: "लॉग इन करें", logout: "लॉग आउट", welcomeUser: "स्वागत,",
            promoNotification: "हमें दान दें! आपका योगदान, चाहे छोटा हो या बड़ा (यहां तक कि ₹1), एक दिव्य अंतर डालता है। राशि आप स्वयं चुनें।",
            navHome: "होम", navAbout: "हमारे बारे में", navCauses: "कार्य और अनुष्ठान", navDonate: "दान करें", navContact: "संपर्क करें",
            heroHeadline: "काल भैरव की दिव्य कृपा का समर्थन करें", heroSubheadline: "आपके पवित्र योगदान से अनुष्ठानों, त्योहारों और पवित्र मंदिर के रखरखाव में मदद मिलती है।", donateNow: "अभी दान करें",
            rupee10Headline: "केवल ₹10 से अपनी सेवा शुरू करें", rupee10Subheadline: "एक दीपक भी भक्ति का मार्ग रोशन कर सकता है। आपका ₹10 का अर्पण काल भैरव मंदिर में दैनिक अनुष्ठानों, मंदिर के रखरखाव और धर्मार्थ सेवाओं को बनाए रखने में मदद करता है।", rupee10Intention: "कोई भी राशि छोटी नहीं होती - केवल इरादा मायने रखता है।", rupee10Blessings: "अभी अर्पण करें और दिव्य सुरक्षा का आशीर्वाद पाएं।", rupee10CTA: "आज ही ₹10 से अपनी सेवा शुरू करें", rupee10Secure: "सुरक्षित। सरल। पवित्र।",
            aboutTitle: "काल भैरव मंदिर के बारे में", 
            aboutP1: "काल भैरव मंदिर एक प्रतिष्ठित हिंदू मंदिर है जो भगवान शिव के उग्र रूप भगवान काल भैरव को समर्पित है, जो विनाश और समय से जुड़े हैं। उन्हें संरक्षक देवता और अपने भक्तों का रक्षक माना जाता है।", 
            aboutP2: "मान्यता है कि इस मंदिर के दर्शन करने और भगवान काल भैरव की पूजा करने से कष्टों का निवारण होता है, बाधाएं दूर होती हैं और नकारात्मक ऊर्जाओं से सुरक्षा मिलती है। दुनिया भर से भक्त साहस, शक्ति और आध्यात्मिक मुक्ति के लिए उनका आशीर्वाद लेने आते हैं।", 
            aboutWorking: "हम अपने मंदिर पर काम कर रहे हैं।",
            aboutP3: "मंदिर का पता यहाँ है = गांव नगला टोटा पोस्ट पिछुना तहसील रूपवास जिला भरतपुर (राज.)-321301। हमारा मिशन इस पवित्र स्थान की पवित्रता और परंपराओं को संरक्षित करना है, यह सुनिश्चित करना है कि दिव्य अनुष्ठान और धर्मार्थ गतिविधियाँ सभी को लाभान्वित करती रहें। आपका समर्थन हमें मंदिर को बनाए रखने, पूजा करने और समुदाय की सेवा करने में मदद करता है।",
            causesTitle: "कार्य और अनुष्ठान जिनका हम समर्थन करते हैं", causeDailyPujaTitle: "दैनिक पूजा और अर्चना", causeDailyPujaDesc: "आपके योगदान से मंदिर के पुजारियों द्वारा प्रतिदिन की जाने वाली विस्तृत पूजा, अर्चना और अभिषेक के लिए धन जुटाने में मदद मिलती है, जिससे मंदिर की आध्यात्मिक जीवंतता बनी रहती है।", causeTempleMaintenanceTitle: "मंदिर का रखरखाव और नवीनीकरण", causeTempleMaintenanceDesc: "मंदिर परिसर की संरचनात्मक अखंडता और स्वच्छता सुनिश्चित करना, जिसमें समय-समय पर नवीनीकरण और सौंदर्यीकरण परियोजनाएं शामिल हैं।", causeAnnadanamTitle: "अन्नदानम (भोजन दान)", causeAnnadanamDesc: "भक्तों, तीर्थयात्रियों और जरूरतमंदों को मुफ्त, पवित्र भोजन (प्रसाद) प्रदान करना, जो निःस्वार्थ सेवा की भावना का प्रतीक है।", causeFestivalsTitle: "त्योहार समारोह", causeFestivalsDesc: "महाशिवरात्रि, काल भैरव जयंती और नवरात्रि जैसे प्रमुख त्योहारों के लिए भव्य समारोहों का आयोजन, जिसमें विशेष अनुष्ठान और सांस्कृतिक कार्यक्रम शामिल हैं।", causeGauSevaTitle: "गौ सेवा (गाय संरक्षण)", causeGauSevaDesc: "मंदिर की गायों की देखभाल करना, जिन्हें पवित्र माना जाता है, चारा, आश्रय और चिकित्सा सुविधा प्रदान करके, जीवन के प्रति श्रद्धा की एक प्राचीन परंपरा को बनाए रखना।", causeVedicEducationTitle: "वैदिक शिक्षा और पुजारी कल्याण", causeVedicEducationDesc: "युवा पुजारियों को वैदिक शास्त्रों और अनुष्ठानों में शिक्षित करने में सहायता करना, और मंदिर के समर्पित सेवकों का कल्याण सुनिश्चित करना।",
            donateTitle: "एक दिव्य भेंट करें", donateDesc: "आपकी उदारता मंदिर की पवित्र परंपराओं और धर्मार्थ कार्यों को बनाए रखती है। प्रत्येक योगदान, चाहे कितना भी छोटा क्यों न हो, दिव्य कृपा की ओर एक कदम है।", donationAmountLabel: "दान राशि (INR)", donorNameLabel: "पूरा नाम", donorEmailLabel: "ईमेल पता", proceedToPayment: "सुरक्षित भुगतान के लिए आगे बढ़ें",
            contactTitle: "संपर्क में रहें", contactTempleAddressTitle: "मंदिर का पता", 
            contactTempleAddressUpdated: "गांव नगला टोटा पोस्ट पिछुना तहसील रूपवास जिला भरतपुर (राज.)-321301",
            contactPhone: "+91-XXX-XXXXXXX", contactEmail: "info@kaalbhairavtemple.org", contactTimingsTitle: "मंदिर का समय:", contactTimings: "प्रतिदिन खुला: सुबह 5:00 बजे - रात 10:00 बजे (त्योहारों के दौरान परिवर्तन के अधीन)", contactFormTitle: "हमें एक संदेश भेजें", contactFormNameLabel: "आपका नाम", contactFormEmailLabel: "आपका ईमेल", contactFormMessageLabel: "संदेश", contactFormSend: "संदेश भेजें",
            footerInfo: "यह वेबसाइट दोनों - काल भैरव मंदिर योगदान के लिए एक वैचारिक प्रतिनिधित्व है। सभी दान उदाहरणात्मक हैं।", footerCopyright: `&copy; ${new Date().getFullYear()} काल भैरव मंदिर सेवा। सर्वाधिकार सुरक्षित।`, footerDisclaimer: "अस्वीकरण: यह एक नमूना टेम्पलेट है। वास्तविक मंदिर की जानकारी और कानूनी अस्वीकरणों से बदलें।",
            authModalTitle: "लॉगिन करें या साइन अप करें", authEmailLabel: "ईमेल पता", authPasswordLabel: "पासवर्ड", authLoginButton: "लॉगिन करें", authOr: "या", authGoogleButton: "Google से साइन इन करें", authGuestButton: "अतिथि के रूप में जारी रखें",
        }
    };

    function attachLangSwitcher() {
        const languageSelector = document.getElementById('languageSelector');
        if (languageSelector) {
            const savedLang = localStorage.getItem('language') || 'en';
            languageSelector.value = savedLang;
            setLanguage(savedLang); 

            languageSelector.addEventListener('change', (event) => {
                setLanguage(event.target.value);
            });
        }
    }

    function setLanguage(lang) {
        localStorage.setItem('language', lang);
        document.documentElement.lang = lang; 
        const elements = document.querySelectorAll('[data-lang-key]');
        
        elements.forEach(el => {
            const key = el.dataset.langKey;
            let translationText = translations[lang]?.[key];

            if (translationText !== undefined) { 
                if (key === 'welcomeUser' && el.textContent.includes(',')) {
                    const userName = el.textContent.split(',')[1]?.trim();
                    if (userName) {
                        translationText = `${translations[lang][key]} ${userName}`;
                    } else {
                         translationText = translations[lang][key]; 
                    }
                }

                if (el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' && !el.hasAttribute('value') && el.id !== 'currentYear') {
                    el.innerHTML = translationText;
                }
                if (el.placeholder && (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA')) {
                    el.placeholder = translationText;
                }
                if (el.tagName === 'BUTTON') {
                    const icon = el.querySelector('i');
                    let textSpan = el.querySelector('span[data-lang-key="' + key + '"]'); 
                    if (!textSpan) textSpan = el.querySelector('span:not([data-lang-key])'); 
                    
                    if (textSpan) { 
                        textSpan.textContent = translationText;
                    } else if (!icon) { 
                         el.textContent = translationText;
                    } else if (icon) { 
                        let textNode = Array.from(el.childNodes).find(node => node.nodeType === Node.TEXT_NODE && node.textContent.trim() !== '');
                        if(textNode) textNode.textContent = ` ${translationText} `;
                    }
                }
            }
        });

        const footerCopyrightEl = document.querySelector('[data-lang-key="footerCopyright"]');
        if (footerCopyrightEl && translations[lang]?.footerCopyright) {
            footerCopyrightEl.innerHTML = translations[lang].footerCopyright.replace(`${new Date().getFullYear()}`, `<span id="currentYear">${new Date().getFullYear()}</span>`);
        }
        const currentYearDisplay = document.getElementById('currentYear'); 
        if (currentYearDisplay) {
            currentYearDisplay.textContent = new Date().getFullYear();
        }
    }

    const causeCards = document.querySelectorAll('.cause-card');
    const causeModal = document.getElementById('causeModal');
    const causeModalTitle = document.getElementById('causeModalTitle');
    const causeModalBody = document.getElementById('causeModalBody');
    const closeCauseModalBtn = document.getElementById('closeCauseModal');

    const causeArticles = {
        dailyPuja: {
            en: { title: "Daily Pujas & Archana", content: "<p>Detailed information about Daily Pujas and Archana...</p><p>These rituals are performed every day to honor the deities and seek their blessings. Your support helps us procure necessary items like flowers, incense, and other sacred materials.</p>" },
            hi: { title: "दैनिक पूजा और अर्चना", content: "<p>दैनिक पूजा और अर्चना के बारे में विस्तृत जानकारी...</p><p>ये अनुष्ठान प्रतिदिन देवताओं का सम्मान करने और उनका आशीर्वाद प्राप्त करने के लिए किए जाते हैं। आपका समर्थन हमें फूल, धूप और अन्य पवित्र सामग्री जैसी आवश्यक वस्तुओं की खरीद में मदद करता है।</p>" }
        },
        templeMaintenance: {
            en: { title: "Temple Upkeep & Renovation", content: "<p>Information about Temple Upkeep & Renovation...</p><p>Maintaining a sacred space requires continuous effort. Donations contribute to repairs, cleanliness, and essential renovations to preserve the temple's sanctity and structure.</p>" },
            hi: { title: "मंदिर का रखरखाव और नवीनीकरण", content: "<p>मंदिर के रखरखाव और नवीनीकरण के बारे में जानकारी...</p><p>एक पवित्र स्थान को बनाए रखने के लिए निरंतर प्रयास की आवश्यकता होती है। दान मंदिर की पवित्रता और संरचना को बनाए रखने के लिए मरम्मत, स्वच्छता और आवश्यक नवीनीकरण में योगदान देता है।</p>" }
        },
        annadanam: {
            en: { title: "Annadanam (Food Donation)", content: "<p>Details about Annadanam...</p><p>The tradition of offering food (Annadanam) is considered a great service. Your contributions help us provide sanctified meals to devotees, pilgrims, and those in need, fostering a spirit of community and compassion.</p>" },
            hi: { title: "अन्नदानम (भोजन दान)", content: "<p>अन्नदानम के बारे में विवरण...</p><p>भोजन अर्पित करने की परंपरा (अन्नदानम) एक महान सेवा मानी जाती है। आपका योगदान हमें भक्तों, तीर्थयात्रियों और जरूरतमंदों को पवित्र भोजन प्रदान करने में मदद करता है, जिससे समुदाय और करुणा की भावना को बढ़ावा मिलता है।</p>" }
        },
        festivals: {
            en: { title: "Festival Celebrations", content: "<p>Learn about our Festival Celebrations...</p><p>Major Hindu festivals are celebrated with great devotion and grandeur. Your support enables us to organize these events, including special pujas, decorations, and cultural programs that bring the community together.</p>" },
            hi: { title: "त्योहार समारोह", content: "<p>हमारे त्योहार समारोहों के बारे में जानें...</p><p>प्रमुख हिंदू त्योहार बड़ी भक्ति और भव्यता के साथ मनाए जाते हैं। आपका समर्थन हमें इन कार्यक्रमों को आयोजित करने में सक्षम बनाता है, जिसमें विशेष पूजा, सजावट और सांस्कृतिक कार्यक्रम शामिल हैं जो समुदाय को एक साथ लाते हैं।</p>" }
        },
        gauSeva: {
            en: { title: "Gau Seva (Cow Protection)", content: "<p>Information on Gau Seva...</p><p>Cows are revered in Hinduism, and their care (Gau Seva) is a meritorious act. Donations help provide shelter, fodder, and medical care for the temple's cows, upholding this sacred tradition.</p>" },
            hi: { title: "गौ सेवा (गाय संरक्षण)", content: "<p>गौ सेवा पर जानकारी...</p><p>हिंदू धर्म में गायों को सम्मानित किया जाता है, और उनकी देखभाल (गौ सेवा) एक पुण्य कार्य है। दान मंदिर की गायों के लिए आश्रय, चारा और चिकित्सा देखभाल प्रदान करने में मदद करता है, इस पवित्र परंपरा को बनाए रखता है।</p>" }
        },
        vedicEducation: {
            en: { title: "Vedic Education & Priest Welfare", content: "<p>Supporting Vedic Education and Priest Welfare...</p><p>The continuation of Vedic traditions depends on the knowledge passed down through generations. Your contributions support the education of young priests and the welfare of those who dedicate their lives to serving the temple.</p>" },
            hi: { title: "वैदिक शिक्षा और पुजारी कल्याण", content: "<p>वैदिक शिक्षा और पुजारी कल्याण का समर्थन...</p><p>वैदिक परंपराओं की निरंतरता पीढ़ियों से चले आ रहे ज्ञान पर निर्भर करती है। आपका योगदान युवा पुजारियों की शिक्षा और मंदिर की सेवा में अपना जीवन समर्पित करने वालों के कल्याण का समर्थन करता है।</p>" }
        }
    };

    causeCards.forEach(card => {
        card.addEventListener('click', () => {
            const causeKey = card.dataset.cause;
            const currentLang = localStorage.getItem('language') || 'en';
            const article = causeArticles[causeKey]?.[currentLang];

            if (article && causeModal && causeModalTitle && causeModalBody) {
                causeModalTitle.textContent = article.title;
                causeModalBody.innerHTML = article.content; 
                causeModal.classList.remove('hidden');
                causeModal.classList.add('flex');
            } else {
                console.error("Modal elements or article content not found for cause:", causeKey, "and lang:", currentLang);
            }
        });
    });

    if (closeCauseModalBtn && causeModal) {
        closeCauseModalBtn.addEventListener('click', () => {
            causeModal.classList.add('hidden');
            causeModal.classList.remove('flex');
        });
    }
    if (causeModal) {
        causeModal.addEventListener('click', function(event) {
            if (event.target === causeModal) { 
                causeModal.classList.add('hidden');
                causeModal.classList.remove('flex');
            }
        });
    }

});
</script>

</body>
</html>
